
<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horizon Heights RMC Volume Calculator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .gradient-button {
            background-image: linear-gradient(to right, #3B82F6, #4F46E5);
            @apply text-white font-bold rounded-lg shadow-lg transition duration-300 transform hover:scale-[1.02] hover:shadow-xl;
        }
        .gradient-button:hover {
            background-image: linear-gradient(to right, #2563EB, #4338CA);
        }
        .merged-text-result {
            @apply w-full font-bold text-lg py-3 px-0 inline-block text-gray-500 dark:text-gray-400;
        }
        .merged-text-result.active-result {
            @apply text-gray-900 dark:text-white;
        }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react/": "https://aistudiocdn.com/react@^19.2.0/"
  }
}
</script>
</head>
<body class="bg-gray-100 dark:bg-gray-900 min-h-screen flex items-center justify-center p-4 transition-colors duration-300">

    <div class="relative w-full max-w-lg bg-white dark:bg-gray-800 p-8 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700">
        
        <header class="mb-6 text-center">
            <h1 class="text-4xl font-extrabold text-blue-600">Horizon Heights</h1>
            <p class="text-lg font-medium text-gray-500 dark:text-gray-400">RMC Volume Calculator</p>
        </header>

        <div class="p-6 mb-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg shadow-inner">
            <h2 class="text-4xl sm:text-5xl font-extrabold text-gray-800 dark:text-gray-100 text-center mb-6 w-[95%] mx-auto">Concrete Volume Tools</h2>
            <div class="w-full">
                <div class="p-6 bg-transparent rounded-lg">
                    <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4 border-b pb-2 border-gray-300 dark:border-gray-600">Footing Dimensions</h3>
                    <div class="space-y-6">
                        
                        <!-- Length -->
                        <div>
                            <div class="flex justify-between items-center mb-2">
                                <label for="length" class="block text-lg font-medium text-gray-700 dark:text-gray-300">Length</label>
                                <div id="length-units" class="flex gap-1">
                                    <button onclick="handleUnitChange('length', 'meters')" class="unit-button-length px-3 py-1 rounded-md text-sm font-semibold transition-all duration-200 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300">m</button>
                                    <button onclick="handleUnitChange('length', 'feet')" class="unit-button-length px-3 py-1 rounded-md text-sm font-semibold transition-all duration-200 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300">ft</button>
                                    <button onclick="handleUnitChange('length', 'inches')" class="unit-button-length gradient-button text-white px-3 py-1 rounded-md text-sm font-semibold transition-all duration-200">in</button>
                                </div>
                            </div>
                            <input type="number" id="length" class="w-full p-3 bg-gray-200 dark:bg-gray-700 border-gray-300 dark:border-gray-600 border rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition duration-150" placeholder="e.g., 252">
                        </div>

                        <!-- Width -->
                        <div>
                            <div class="flex justify-between items-center mb-2">
                                <label for="width" class="block text-lg font-medium text-gray-700 dark:text-gray-300">Width</label>
                                <div id="width-units" class="flex gap-1">
                                    <button onclick="handleUnitChange('width', 'meters')" class="unit-button-width px-3 py-1 rounded-md text-sm font-semibold transition-all duration-200 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300">m</button>
                                    <button onclick="handleUnitChange('width', 'feet')" class="unit-button-width px-3 py-1 rounded-md text-sm font-semibold transition-all duration-200 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300">ft</button>
                                    <button onclick="handleUnitChange('width', 'inches')" class="unit-button-width gradient-button text-white px-3 py-1 rounded-md text-sm font-semibold transition-all duration-200">in</button>
                                </div>
                            </div>
                            <input type="number" id="width" class="w-full p-3 bg-gray-200 dark:bg-gray-700 border-gray-300 dark:border-gray-600 border rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition duration-150" placeholder="e.g., 180">
                        </div>

                        <!-- Depth -->
                        <div>
                            <div class="flex justify-between items-center mb-2">
                                <label for="depth" class="block text-lg font-medium text-gray-700 dark:text-gray-300">Depth</label>
                                <div id="depth-units" class="flex gap-1">
                                    <button onclick="handleUnitChange('depth', 'meters')" class="unit-button-depth px-3 py-1 rounded-md text-sm font-semibold transition-all duration-200 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300">m</button>
                                    <button onclick="handleUnitChange('depth', 'feet')" class="unit-button-depth px-3 py-1 rounded-md text-sm font-semibold transition-all duration-200 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300">ft</button>
                                    <button onclick="handleUnitChange('depth', 'inches')" class="unit-button-depth gradient-button text-white px-3 py-1 rounded-md text-sm font-semibold transition-all duration-200">in</button>
                                </div>
                            </div>
                            <input type="number" id="depth" class="w-full p-3 bg-gray-200 dark:bg-gray-700 border-gray-300 dark:border-gray-600 border rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition duration-150" placeholder="e.g., 18">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <button onclick="calculateVolume()" class="w-full py-3 mt-6 gradient-button">
            Calculate Concrete Volume (M³)
        </button>

        <div id="resultContainer" class="mt-8 p-5 bg-green-100 dark:bg-green-900/50 border-t border-green-200 dark:border-green-700 rounded-lg text-center" style="display:none;">
            <p class="text-gray-700 dark:text-gray-300 text-lg mb-2">Total Concrete Order Quantity <strong>(Including 3% Wastage)</strong>:</p>
            <p id="resultText" class="text-5xl font-extrabold text-green-600 dark:text-green-400"></p>
            <p class="text-gray-600 dark:text-gray-400 text-sm mt-3">Order this many Cubic Meters (M³) from the Ready Mix supplier.</p>
        </div>

        <div id="errorMessage" class="mt-4 p-3 bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-200 rounded-lg text-center" style="display:none;"></div>
    </div>

    <!-- Unit Converter Modal -->
    <div id="converterModal" class="fixed inset-0 bg-black bg-opacity-70 dark:bg-opacity-80 flex items-center justify-center p-4 z-50 hidden">
        <div id="modalOverlay" class="absolute inset-0"></div>
        <div class="relative w-full max-w-md bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 z-10">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4 border-b pb-2 border-gray-300 dark:border-gray-600">Unit Converters</h3>
            <div class="space-y-6">
                <!-- Feet to Inch Converter -->
                <div class="py-3">
                    <h4 class="text-md font-medium text-gray-800 dark:text-gray-200 mb-2">Feet to Inch</h4>
                    <div class="flex gap-2 items-end">
                        <div class="flex-grow min-w-0">
                            <label for="feetInput" class="block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1">Feet (ft)</label>
                            <input type="number" id="feetInput" class="w-full p-3 bg-gray-200 dark:bg-gray-700 border-gray-300 dark:border-gray-600 border rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition duration-150" placeholder="e.g., 21" oninput="convertFeetToInch()">
                        </div>
                        <p class="text-xl text-gray-500 dark:text-gray-400 mb-1">=</p>
                        <div class="flex-grow min-w-0">
                            <label class="block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1">Inches (in)</label>
                            <span id="inchResultFt" class="merged-text-result">Result</span>
                        </div>
                    </div>
                    <div class="mt-3 flex justify-center gap-2">
                        <button class="gradient-button px-4 py-2 text-sm" onclick="addToDimension('length', 'ft')">Add to Length</button>
                        <button class="gradient-button px-4 py-2 text-sm" onclick="addToDimension('width', 'ft')">Add to Width</button>
                        <button class="gradient-button px-4 py-2 text-sm" onclick="addToDimension('depth', 'ft')">Add to Depth</button>
                    </div>
                </div>
                <!-- Meter to Inch Converter -->
                <div class="py-3">
                    <h4 class="text-md font-medium text-gray-800 dark:text-gray-200 mb-2">Meter to Inch</h4>
                    <div class="flex gap-2 items-end">
                        <div class="flex-grow min-w-0">
                            <label for="meterInput" class="block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1">Meter (m)</label>
                            <input type="number" id="meterInput" class="w-full p-3 bg-gray-200 dark:bg-gray-700 border-gray-300 dark:border-gray-600 border rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition duration-150" placeholder="e.g., 6.4" oninput="convertMeterToInch()">
                        </div>
                        <p class="text-xl text-gray-500 dark:text-gray-400 mb-1">=</p>
                        <div class="flex-grow min-w-0">
                            <label class="block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1">Inches (in)</label>
                            <span id="inchResultM" class="merged-text-result">Result</span>
                        </div>
                    </div>
                    <div class="mt-3 flex justify-center gap-2">
                        <button class="gradient-button px-4 py-2 text-sm" onclick="addToDimension('length', 'm')">Add to Length</button>
                        <button class="gradient-button px-4 py-2 text-sm" onclick="addToDimension('width', 'm')">Add to Width</button>
                        <button class="gradient-button px-4 py-2 text-sm" onclick="addToDimension('depth', 'm')">Add to Depth</button>
                    </div>
                </div>
            </div>
            <button id="closeModalBtn" class="w-full py-2 mt-8 gradient-button">
                Close
            </button>
        </div>
    </div>

    <!-- Floating Action Button for Converters -->
    <button id="openConverterBtn" class="fixed bottom-6 right-6 w-16 h-16 bg-blue-600 rounded-full shadow-lg text-white flex items-center justify-center hover:bg-blue-700 transition transform hover:scale-110">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 14h.01M12 11h.01M12 8h.01M5 21h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2z" />
        </svg>
    </button>
    
    <script>
        // --- App State ---
        const state = {
            units: {
                length: 'inches',
                width: 'inches',
                depth: 'inches',
            }
        };

        const placeholders = {
            inches: { l: '252', w: '180', d: '18' },
            meters: { l: '6.4', w: '4.5', d: '0.45' },
            feet: { l: '21', w: '15', d: '1.5' }
        };

        // --- DOM Elements ---
        const resultContainer = document.getElementById('resultContainer');
        const resultText = document.getElementById('resultText');
        const errorMessage = document.getElementById('errorMessage');
        const converterModal = document.getElementById('converterModal');

        // --- Calculator Logic ---
        function calculateVolume() {
            resultContainer.style.display = 'none';
            errorMessage.style.display = 'none';

            const lengthVal = parseFloat(document.getElementById('length').value);
            const widthVal = parseFloat(document.getElementById('width').value);
            const depthVal = parseFloat(document.getElementById('depth').value);

            if (isNaN(lengthVal) || isNaN(widthVal) || isNaN(depthVal) || lengthVal <= 0 || widthVal <= 0 || depthVal <= 0) {
                errorMessage.innerText = 'Please enter valid positive numerical values for all dimensions.';
                errorMessage.style.display = 'block';
                return;
            }

            const getDimInMeters = (value, unit) => {
                const INCH_TO_M = 0.0254;
                const FEET_TO_M = 0.3048;
                switch (unit) {
                    case 'inches': return value * INCH_TO_M;
                    case 'feet': return value * FEET_TO_M;
                    case 'meters': return value;
                    default: return 0;
                }
            };
            
            const lengthM = getDimInMeters(lengthVal, state.units.length);
            const widthM = getDimInMeters(widthVal, state.units.width);
            const depthM = getDimInMeters(depthVal, state.units.depth);

            const netVolumeM3 = lengthM * widthM * depthM;
            const wastageFactor = 1.03;
            const finalVolumeM3 = netVolumeM3 * wastageFactor;
            const resultRounded = finalVolumeM3.toFixed(2);
            
            resultText.innerText = `${resultRounded} m³`;
            resultContainer.style.display = 'block';
        }

        function handleUnitChange(dimension, newUnit) {
            state.units[dimension] = newUnit;

            // Update button styles
            const buttons = document.querySelectorAll(`.unit-button-${dimension}`);
            buttons.forEach(button => {
                const unitName = button.textContent.trim() === 'm' ? 'meters' : (button.textContent.trim() === 'ft' ? 'feet' : 'inches');
                if (unitName === newUnit) {
                    button.classList.add('gradient-button', 'text-white');
                    button.classList.remove('bg-gray-200', 'dark:bg-gray-600', 'text-gray-700', 'dark:text-gray-300');
                } else {
                    button.classList.remove('gradient-button', 'text-white');
                    button.classList.add('bg-gray-200', 'dark:bg-gray-600', 'text-gray-700', 'dark:text-gray-300');
                }
            });

            // Update placeholder
            const inputElement = document.getElementById(dimension);
            const placeholderKey = dimension.charAt(0);
            inputElement.placeholder = `e.g., ${placeholders[newUnit][placeholderKey]}`;
        }


        // --- Converter Logic ---
        function convertFeetToInch() {
            const feet = parseFloat(document.getElementById('feetInput').value);
            const resultElement = document.getElementById('inchResultFt');
            
            if (isNaN(feet) || feet < 0) {
                resultElement.innerText = 'Result';
                resultElement.classList.remove('active-result');
                return;
            }
            
            const inches = feet * 12;
            resultElement.innerText = inches.toFixed(2);
            resultElement.classList.add('active-result');
        }

        function convertMeterToInch() {
            const meter = parseFloat(document.getElementById('meterInput').value);
            const resultElement = document.getElementById('inchResultM');

            if (isNaN(meter) || meter < 0) {
                resultElement.innerText = 'Result';
                resultElement.classList.remove('active-result');
                return;
            }

            const INCH_PER_METER = 39.3701; 
            const inches = meter * INCH_PER_METER;
            resultElement.innerText = inches.toFixed(2);
            resultElement.classList.add('active-result');
        }
        
        function addToDimension(targetDimension, sourceUnit) {
            const sourceId = sourceUnit === 'ft' ? 'inchResultFt' : 'inchResultM';
            const resultElement = document.getElementById(sourceId);
            const resultValue = parseFloat(resultElement.innerText);

            if (!isNaN(resultValue)) {
                document.getElementById(targetDimension).value = resultValue.toFixed(2);
                handleUnitChange(targetDimension, 'inches');
                converterModal.classList.add('hidden');
            }
        }

        // --- Modal Event Listeners ---
        document.addEventListener('DOMContentLoaded', () => {
            const openConverterBtn = document.getElementById('openConverterBtn');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const modalOverlay = document.getElementById('modalOverlay');

            openConverterBtn.addEventListener('click', () => {
                converterModal.classList.remove('hidden');
            });
            closeModalBtn.addEventListener('click', () => {
                converterModal.classList.add('hidden');
            });
            modalOverlay.addEventListener('click', () => {
                converterModal.classList.add('hidden');
            });
        });
    </script>
</body>
</html>
